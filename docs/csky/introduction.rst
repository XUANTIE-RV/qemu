==========================
玄铁 QEMU
==========================

------------
简介
------------

玄铁 QEMU 是一个以开源项目 QEMU 为基础，支持 玄铁 处理器的软件模拟器，提供了带基本外设的 玄铁 开发板模板。

此外 玄铁 QEMU 还添加了启动程序 cskysim，动态加载外设，profiling 等功能。

玄铁 QEMU 的特点：

1.	支持 Linux 和 windows 操作系统。
2.	支持 RISC-V 和 C-SKY 两种体系结构。
3.	可以模拟多种外设，比如网卡，声卡，USB，磁盘等。
4.	不经过 bootloader 就能引导 C-SKY Linux 内核。
5.	多种输出方式，不依赖于 host 系统，可以是 SSH，模拟串口等。
6.	执行不需要管理员权限。
7.	动态编译技术提供的高速模拟。
8.	可模拟多核心 CPU，甚至多 CPU。


---------------
支持的 CPU 型号
---------------

玄铁 QEMU 同步支持所有现存的 玄铁 CPU，支持 C-SKY 和 RISC-V 两种 ARCH，包括但不限于以下 CPU 型号。

**C-SKY ARCH CPU 列表:**

  .. table:: CPU 型号

    +----------+------------+
    | CPU 型号 | 可选特性   |
    +==========+============+
    | e801     |            |
    +----------+------------+
    | e802     | t          |
    +----------+------------+
    | e803     | t          |
    +----------+------------+
    | e804     | d, f, t    |
    +----------+------------+
    | s802     | t          |
    +----------+------------+
    | s803     | t          |
    +----------+------------+
    | i805     | f          |
    +----------+------------+
    | c807     | f, v       |
    +----------+------------+
    | c810     | t, v       |
    +----------+------------+
    | c860     | v          |
    +----------+------------+
    | r807     | f          |
    +----------+------------+


此外还支持一些旧的型号和命名方式：


  .. table:: CPU 型号

    +----------+----------+------------+
    | ABI      | CPU 型号 | 可选特性   |
    +==========+==========+============+
    | ABIv1    | CK510    | e          |
    +          +----------+------------+
    |          | CK610    | e, f       |
    +----------+----------+------------+
    | ABIv2    | CK801    | t          |
    +          +----------+------------+
    |          | CK802    | j, t       |
    +          +----------+------------+
    |          | CK803    | e, f, t    |
    +          +----------+------------+
    |          | CK804    | e, f       |
    +          +----------+------------+
    |          | CK805    | f          |
    +          +----------+------------+
    |          | CK807    | e, f       |
    +          +----------+------------+
    |          | CK810    | e, f, t    |
    +          +----------+------------+
    |          | CK860    | f, v       |
    +----------+----------+------------+

**RISC-V ARCH CPU 列表:**

  .. table:: CPU 型号

    +----------+----------------------+
    | CPU 型号 | 可选特性             |
    +==========+======================+
    | e902     | m, t                 |
    +----------+----------------------+
    | e906     | f, d, p              |
    +----------+----------------------+
    | e907     | f, d, p              |
    +----------+----------------------+
    | c906     | f, d, v              |
    +----------+----------------------+
    | c907     | f, d, v, m           |
    +----------+----------------------+
    | c908i    |                      |
    +----------+----------------------+
    | c908     | v                    |
    +----------+----------------------+
    | c908i_v2 | cp, cp-xt            |
    +----------+----------------------+
    | c908_v2  | v, cp, cp-xt         |
    +----------+----------------------+
    | c910     | v                    |
    +----------+----------------------+
    | c920     | 无                   |
    +----------+----------------------+
    | c910v2   | 无                   |
    +----------+----------------------+
    | c920v2   | 无                   |
    +----------+----------------------+
    | c910v3   | cp, cp-xt            |
    +----------+----------------------+
    | c920v3   | cp, cp-xt            |
    +----------+----------------------+
    | r908     | fd, v, cp, cp-xt     |
    +----------+----------------------+
    | r910     | 无                   |
    +----------+----------------------+
    | r920     | 无                   |
    +----------+----------------------+
    | c908x    | cp, cp-xt            |
    +----------+----------------------+

------------
框架结构
------------

玄铁 QEMU 主要基于 QEMU 的 system emulator，模拟基于 玄铁 CPU 的 SOC 和开发板，包括 CPU 和外围设备，如 TIMER、UART 等。运行在真实开发板上的程序或者操作系统可以不经过修改，在 玄铁 QEMU 上直接运行。

玄铁 QEMU 结构框架如下：

  .. figure:: /figure/introduce.png
    :align: center
    :scale: 100%
    :name: introduce

    框架
